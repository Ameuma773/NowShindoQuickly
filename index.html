<!DOCTYPE html>
<html>

<head>
    <title></title>
</head>

<body>
    <h1 id="x"></h1>
    <h1 id="y"></h1>
    <h1 id="z"></h1>
    <button id="Kyoka" onclick="requesPermission()">加速度センサへの許可を求める</button>
    <script>
        function requesPermission() {
            if (window.DeviceOrientationEvent) {
                if (DeviceOrientationEvent.requestPermission) {
                    DeviceOrientationEvent.requestPermission().then(function (response) {
                        if (response === "granted") {
                            //document.getElementById("Kyoka").style.visibility = hidden;
                        }
                    }).catch(function (e) {
                        alert("エラーが発生しました。" + e);
                    });
                }
            }
        }

        //加速度
        window.addEventListener("devicemotion", function (e) {
            var acc = e.acceleration;
            var x = acc.x;
            var y = acc.y;
            var z = acc.z;

            document.getElementById("x").innerText = "X : " + x + "m/s²";
            document.getElementById("y").innerText = "Y : " + y + "m/s²";
            document.getElementById("z").innerText = "Z : " + z + "m/s²";
        })
    </script>
</body>

</html>
